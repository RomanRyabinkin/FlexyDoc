# FlexyDoc: Android-приложение по работе с PDF

> **Ветка по умолчанию**: `master` (весь актуальный код и документация находятся в ветке `master`).

**FlexyDoc** — это мобильное Android-клиент для просмотра, редактирования и конвертации PDF-документов. Приложение поддерживает:

* **Конвертацию PDF** в различные форматы:

  * **DOCX**: извлечение текста и вставка изображений страниц для сохранения макета.
  * **XLSX**: экспорт каждой строки текста в отдельную строку Excel.
  * **JPG/PNG**: рендеринг страниц PDF в изображения с настраиваемым DPI.
* **Просмотр и редактирование PDF**: открытие, аннотации, выделение, зачёркивание текста и печать с помощью встроенного PDF-вьювера.
* **Настройки приложения**:

  * Выбор языка интерфейса (Русский/Английский).
  * Выбор темы (Светлая/Тёмная/System Default).
* **Управление файлами**: сохранение результатов конвертации в папку «Загрузки» через MediaStore.
* **Мультиязычность**: все строки в ресурсах на русском и английском, поддержка смены локали на ходу.

---

## Структура проекта

* **ui/** — экраны на Jetpack Compose и навигация:

  * `AppRoot`, `HomeScreen`, `ActionsScreen`, `FormatSelectionScreen`, `FilePickerScreen`, `PdfConvertScreen`, `PdfEditorScreen`, `SettingsScreen`, `AboutScreen`.
* **converter/** — интерфейс `PdfConverter` и реализация `RealPdfConverter` (PDFBox + Apache POI).
* **util/** — утилиты для копирования URI в кэш, получения имени файла, сохранения в «Загрузки».
* **components/** — переиспользуемые Compose-компоненты: `FilePickerButton`, `AppDrawer`, `TopBar`.
* **core/** — определение маршрутов (класс-сущность `Screen`).
* **data/** — репозиторий настроек (DataStore Preferences) для языка и темы.

---

## Технологии и библиотеки

* Kotlin, Coroutines
* Jetpack Compose
* Navigation Compose
* PDFBox Android (парсинг PDF)
* Apache POI (XWPF, XSSF)
* PdfiumCore (рендеринг страниц в Bitmap)
* DataStore Preferences
* AndroidX Material3
* Multidex support

---

## Быстрый старт

### Требования

* Android Studio Arctic Fox или новее
* JDK 11
* Эмулятор или устройство с Android 8.0 (API 26+)

### Сборка и запуск

1. Клонируйте репозиторий:

   ```bash
   git clone https://github.com/yourusername/FlexyDoc.git
   cd FlexyDoc
   ```
2. Откройте проект в Android Studio.
3. Дождитесь синхронизации Gradle и выполните сборку.
4. Запустите приложение на эмуляторе или реальном устройстве.

### Тестирование

* **Unit tests**: `./gradlew test`
* **Instrumented tests**: `./gradlew connectedAndroidTest`

---

## Как пользоваться

1. **Домашний экран**: выбрать категорию (PDF, Word, Image).
2. **Экран действий**: выбрать операцию (Конвертация, Редактирование, Аннотации и т.д.).
3. **Выбор формата** (при конвертации): указать целевой формат.
4. **Выбор файла**: через системный диалог выбрать PDF.
5. **Конвертация**: нажать «Начать конвертацию», наблюдать прогресс и получить уведомление о сохранении.
6. **Просмотр/редактирование**: открыть PDF для аннотаций, выделений или печати.

---

## Лицензия

MIT License (см. файл LICENSE)
